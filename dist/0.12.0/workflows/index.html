<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.37" />
    <meta name="description" content="Documentation for Fission">
<meta name="google-site-verification" content="5AvQfeDvIx0ldE9uSKVsoikqgFknd_CT18caf9TNoVg" />
<meta name="author" content="Fission">

    <link rel="shortcut icon" href=/0.11.0/images/favicon.png type="image/x-icon" />
<link rel="icon" href=/0.11.0/images/favicon.png type="image/x-icon" />

    <title>Fission Workflows :: Serverless Functions for Kubernetes</title>
    
    
    <link href="/0.11.0/css/nucleus.css?1541108055" rel="stylesheet">
    <link href="/0.11.0/css/font-awesome.min.css?1541108055" rel="stylesheet">
    <link href="/0.11.0/css/hybrid.css?1541108055" rel="stylesheet">
    <link href="/0.11.0/css/featherlight.min.css?1541108055" rel="stylesheet">
    <link href="/0.11.0/css/perfect-scrollbar.min.css?1541108055" rel="stylesheet">
    <link href="/0.11.0/css/auto-complete.css?1541108055" rel="stylesheet">
    <link href="/0.11.0/css/theme.css?1541108055" rel="stylesheet">
    <link href="/0.11.0/css/hugo-theme.css?1541108055" rel="stylesheet">
    
      <link href="/0.11.0/css/theme-fission.css?1541108055" rel="stylesheet">
    

    <script src="/0.11.0/js/jquery-2.x.min.js?1541108055"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/0.11.0/workflows/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://fission.io/">
  <img src=/0.11.0/images/fission-logo.png>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/0.11.0/js/lunr.min.js?1541108055"></script>
<script type="text/javascript" src="/0.11.0/js/auto-complete.js?1541108055"></script>
<script type="text/javascript">
    
        var baseurl = '\/0.11.0';
    
</script>
<script type="text/javascript" src="/0.11.0/js/search.js?1541108055"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/0.11.0/installation/" title="Installing Fission" class="dd-item 
        
        
        parent
        ">
      <a href="/0.11.0/installation/">
          Installing Fission
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/installation/kubernetessetup/" title="Kubernetes Quick Install" class="dd-item ">
        <a href="/0.11.0/installation/kubernetessetup/">
        Kubernetes Quick Install
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/0.11.0/installation/upgrade/" title="Upgrading Fission" class="dd-item 
        
        
        
        ">
      <a href="/0.11.0/installation/upgrade/">
          Upgrading Fission
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/installation/env_vars/" title="Environment Variables" class="dd-item ">
        <a href="/0.11.0/installation/env_vars/">
        Environment Variables
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.11.0/concepts/" title="Fission Concepts" class="dd-item 
        
        
        parent
        ">
      <a href="/0.11.0/concepts/">
          Fission Concepts
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/concepts/basic-concept/" title="Basic Concepts" class="dd-item ">
        <a href="/0.11.0/concepts/basic-concept/">
        Basic Concepts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/concepts/executor/" title="Fission Function Executors" class="dd-item ">
        <a href="/0.11.0/concepts/executor/">
        Fission Function Executors
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.11.0/usage/" title="Using Fission" class="dd-item 
        
        
        parent
        ">
      <a href="/0.11.0/usage/">
          Using Fission
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/package/" title="Packaging source code" class="dd-item ">
        <a href="/0.11.0/usage/package/">
        Packaging source code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/access-secret-cfgmap-in-function/" title="Accessing Secrets in Functions" class="dd-item ">
        <a href="/0.11.0/usage/access-secret-cfgmap-in-function/">
        Accessing Secrets in Functions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/environments/" title="Environments" class="dd-item ">
        <a href="/0.11.0/usage/environments/">
        Environments
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/functions/" title="Functions" class="dd-item ">
        <a href="/0.11.0/usage/functions/">
        Functions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/trigger/" title="Triggers" class="dd-item ">
        <a href="/0.11.0/usage/trigger/">
        Triggers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/executor/" title="Controlling Function Execution" class="dd-item ">
        <a href="/0.11.0/usage/executor/">
        Controlling Function Execution
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/developer-workflow/" title="Source Code Organization and Your Development Workflow" class="dd-item ">
        <a href="/0.11.0/usage/developer-workflow/">
        Source Code Organization and Your Development Workflow
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/ingress-tutorial/" title="Exposing functions with Ingress" class="dd-item ">
        <a href="/0.11.0/usage/ingress-tutorial/">
        Exposing functions with Ingress
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/usage/canary-deployments/" title="Supporting Canary Deployments for Fission Functions" class="dd-item ">
        <a href="/0.11.0/usage/canary-deployments/">
        Supporting Canary Deployments for Fission Functions
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.11.0/languages/" title="Languages" class="dd-item 
        
        
        parent
        ">
      <a href="/0.11.0/languages/">
          Languages
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/languages/nodejs/" title="Fission functions with Nodejs" class="dd-item ">
        <a href="/0.11.0/languages/nodejs/">
        Fission functions with Nodejs
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/languages/go/" title="Using Go with Fission" class="dd-item ">
        <a href="/0.11.0/languages/go/">
        Using Go with Fission
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/languages/java/" title="Using Java with Fission JVM environment" class="dd-item ">
        <a href="/0.11.0/languages/java/">
        Using Java with Fission JVM environment
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.11.0/tutorial/" title="Tutorials" class="dd-item 
        
        
        
        ">
      <a href="/0.11.0/tutorial/">
          Tutorials
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/tutorial/enabling-istio-on-fission/" title="Enabling Istio on Fission" class="dd-item ">
        <a href="/0.11.0/tutorial/enabling-istio-on-fission/">
        Enabling Istio on Fission
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.11.0/tutorial/java-example/" title="Building Java Functions" class="dd-item ">
        <a href="/0.11.0/tutorial/java-example/">
        Building Java Functions
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.11.0/workflows/" title="Fission Workflows" class="dd-item 
        parent
        active
        
        ">
      <a href="/0.11.0/workflows/">
          Fission Workflows
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.11.0/contributing/" title="Contributing to Fission" class="dd-item 
        
        
        parent
        ">
      <a href="/0.11.0/contributing/">
          Contributing to Fission
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li class="" role=""> 
                  <a class="padding" href="https://github.com/fission/fission"><i class='fa fa-fw fa-github'></i> Github repo</a>
              </li>
          
              <li class="" role=""> 
                  <a class="padding" href="https://github.com/fission/fission/graphs/contributors"><i class='fa fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/fission/docs.fission.io/edit/master/docs/content/workflows/_index.en.md" target="blank">
                      <i class="fa fa-code-fork"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            <a href='/0.11.0/'>Fission</a> > Fission Workflows
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installing-fission-workflows">Installing Fission Workflows</a></li>
<li><a href="#creating-your-first-workflow">Creating your first workflow</a></li>
<li><a href="#what-s-next">What&rsquo;s next?</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Fission Workflows</h1>
          

        




<h3 id="prerequisites">Prerequisites</h3>

<p>Fission Workflows requires the following components to be installed on your local machine:</p>

<ul>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a></li>
<li><a href="https://github.com/kubernetes/helm">helm</a></li>
</ul>

<p>Fission Workflows is deployed on top of a Kubernetes cluster.
If you don&rsquo;t have a Kubernetes cluster, <a href="/0.11.0/installation/kubernetessetup/">here&rsquo;s a quick guide to set one up</a>.
It also requires a <a href="https://github.com/fission/fission">Fission</a> deployment to be present on your Kubernetes cluster.
If you do not have a Fission deployment, follow <a href="../installation/">Fission&rsquo;s installation guide</a>.</p>

<p><strong>(Note that Fission Workflows 0.6.0 requires Fission 0.4.1 or higher, with the NATS component installed!)</strong></p>

<h3 id="installing-fission-workflows">Installing Fission Workflows</h3>

<p>Fission Workflows is an add-on to Fission. You can install both
Fission and Fission Workflows using helm charts.</p>

<p>Assuming you have your Kubernetes cluster set up with a functioning deployment of Fission 0.4.1 or higher, run the following commands:</p>

<pre><code class="language-bash"># If you haven't already, add the Fission charts repo
$ helm repo add fission-charts https://fission.github.io/fission-charts/

$ helm repo update

# Install Fission Workflows
$ helm install --wait -n fission-workflows fission-charts/fission-workflows --version 0.6.0
</code></pre>

<h3 id="creating-your-first-workflow">Creating your first workflow</h3>

<p>After installing Fission and Workflows, you&rsquo;re all set to run a simple
test workflow.
With the following code snippet you will be able to deploy and run a small workflow example:</p>

<pre><code class="language-bash"># Fetch the required files, alternatively you could clone the fission-workflow repo
$ curl https://raw.githubusercontent.com/fission/fission-workflows/0.6.0/examples/whales/fortune.sh &gt; fortune.sh

$ curl https://raw.githubusercontent.com/fission/fission-workflows/0.6.0/examples/whales/whalesay.sh &gt; whalesay.sh

$ curl https://raw.githubusercontent.com/fission/fission-workflows/0.6.0/examples/whales/fortunewhale.wf.yaml &gt; fortunewhale.wf.yaml

#
# Add binary environment and create two test functions on your Fission setup:
#
$ fission env create --name binary --image fission/binary-env

$ fission function create --name whalesay --env binary --deploy ./whalesay.sh

$ fission function create --name fortune --env binary --deploy ./fortune.sh

#
# Create a workflow that uses those two functions. A workflow is just
# a function that uses the &quot;workflow&quot; environment.
#
$ fission function create --name fortunewhale --env workflow --src ./fortunewhale.wf.yaml

#
# Map an HTTP GET to your new workflow function:
#
$ fission route create --method GET --url /fortunewhale --function fortunewhale

#
# Invoke the workflow with an HTTP request:
#
$ curl ${FISSION_ROUTER}/fortunewhale
</code></pre>

<p>This last command, the invocation of the workflow, should return a whale saying something wise</p>

<pre><code> ______________________________________
/ Anthony's Law of Force:              \
|                                      |
\ Don't force it; get a larger hammer. /
 --------------------------------------
    \
     \
      \
                    ##         .
              ## ## ##        ==
           ## ## ## ## ##    ===
       /&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\___/ ===
      {                       /  ===-
       \______ O           __/
         \    \         __/
          \____\_______/
</code></pre>

<p>So what happened here?
Let&rsquo;s see what the workflow consists of (for example by running <code>cat fortunewhale.wf.yaml</code>):</p>

<pre><code class="language-yaml"># This whale shows off a basic workflow that combines both Fission Functions (fortune, whalesay) and internal functions (noop)
apiVersion: 1
output: WhaleWithFortune
tasks:
  InternalFuncShowoff:
    run: noop

  GenerateFortune:
    run: fortune
    requires:
    - InternalFuncShowoff

  WhaleWithFortune:
    run: whalesay
    inputs: &quot;{$.Tasks.GenerateFortune.Output}&quot;
    requires:
    - GenerateFortune
</code></pre>

<p>What you see is the <a href="http://yaml.org/">YAML</a>-based workflow definition of the <code>fortunewhale</code> workflow.
A workflow consists of multiple tasks, which are steps that it needs to complete.
Each task has a unique identifier, such as <code>GenerateFortune</code>, a reference to a Fission function in the <code>run</code> field.
Optionally, it can contain <code>inputs</code> which allows you to specify inputs to the task,
as well as contain <code>requires</code> which allows you to specify which tasks need to complete before this task can start.
Finally, at the top you will find the <code>output</code> field, which specifies the task whose output is used as the workflow&rsquo;s output.</p>

<p>In this case, the <code>fortunewhale</code> workflow consists of a sequence of 3 tasks:</p>

<pre><code>InternalFuncShowoff -&gt; GenerateFortune -&gt; WhaleWithFortune
</code></pre>

<p>First, it starts with <code>InternalFuncShowoff</code> by running <code>noop</code>, which is an <em>internal function</em> in the workflow engine.
Internal functions are run inside of the workflow engine, which makes them run much faster at the cost of expressiveness and scalability.
So typically, light-weight functions, such as logic or control flow operations, are good candidates to be used as internal functions.
Besides, a minimal set of predefined internal functions, you can define internal function - there is nothing special about them.</p>

<p>After <code>InternalFuncShowff</code> completes, the <code>GenerateFortune</code> task can start as its <code>requires</code> has been fulfilled.
It runs the <code>fortune</code> Fission function, which outputs a random piece of wisdom.</p>

<p>After <code>GenerateFortune</code> completes, the <code>WhaleWithFortune</code> task can start.
This task uses a javascript expression in its <code>inputs</code> to reference the output of the <code>GenerateFortune</code> task.
In the inputs of a task you can reference anything in the workflow, such as outputs, inputs, and task definitions, or just provide a constant value.
The workflow engine invokes the <code>whalesay</code> fission function with as input the piece of wisdom, which outputs the ASCI whale that wraps the phrase.</p>

<p>Finally, with all tasks completed, the workflow engine uses the top-level <code>output</code> field to fetch the output of the <code>WhaleWithFortune</code> and return it to the user.
As the workflow engine adheres to the Fission function specification, a Fission workflow is just another Fission Function.
This means that you could use this workflow as a function in the <code>run</code> in other workflows.</p>

<h3 id="what-s-next">What&rsquo;s next?</h3>

<p>To learn more about the Fission Workflows system and its advanced concepts, see the <a href="https://github.com/fission/fission-workflows/tree/master/Docs">documentation on Github</a>.</p>

<p>Or, check out the <a href="https://github.com/fission/fission-workflows/tree/0.6.0/examples">examples</a> for more example workflows.</p>

<p>If something went wrong, we&rsquo;d love to help &ndash; please <a href="http://slack.fission.io">drop by the slack channel</a> and ask for help.</p>


<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        

        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/0.11.0/js/clipboard.min.js?1541108055"></script>
    <script src="/0.11.0/js/perfect-scrollbar.min.js?1541108055"></script>
    <script src="/0.11.0/js/perfect-scrollbar.jquery.min.js?1541108055"></script>
    <script src="/0.11.0/js/jquery.sticky.js?1541108055"></script>
    <script src="/0.11.0/js/featherlight.min.js?1541108055"></script>
    <script src="/0.11.0/js/html5shiv-printshiv.min.js?1541108055"></script>
    <script src="/0.11.0/js/highlight.pack.js?1541108055"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/0.11.0/js/modernizr.custom.71422.js?1541108055"></script>
    <script src="/0.11.0/js/learn.js?1541108055"></script>
    <script src="/0.11.0/js/hugo-learn.js?1541108055"></script>

    <link href="/0.11.0/mermaid/mermaid.css?1541108055" type="text/css" rel="stylesheet" />
    <script src="/0.11.0/mermaid/mermaid.js?1541108055"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86980724-1', 'auto');
  ga('send', 'pageview');
</script>

<script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0059/9755.js" async="async"></script>

  </body>
</html>
