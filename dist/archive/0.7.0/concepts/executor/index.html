<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.37" />
    <meta name="description" content="Documentation for Fission">
<meta name="author" content="Fission">

    <link rel="shortcut icon" href=/0.7.0/images/favicon.png type="image/x-icon" />
<link rel="icon" href=/0.7.0/images/favicon.png type="image/x-icon" />

    <title>Controlling Function Execution :: Serverless Functions for Kubernetes</title>
    
    
    <link href="/0.7.0/css/nucleus.css?1523408706" rel="stylesheet">
    <link href="/0.7.0/css/font-awesome.min.css?1523408706" rel="stylesheet">
    <link href="/0.7.0/css/hybrid.css?1523408706" rel="stylesheet">
    <link href="/0.7.0/css/featherlight.min.css?1523408706" rel="stylesheet">
    <link href="/0.7.0/css/perfect-scrollbar.min.css?1523408706" rel="stylesheet">
    <link href="/0.7.0/css/auto-complete.css?1523408706" rel="stylesheet">
    <link href="/0.7.0/css/theme.css?1523408706" rel="stylesheet">
    <link href="/0.7.0/css/hugo-theme.css?1523408706" rel="stylesheet">
    
      <link href="/0.7.0/css/theme-fission.css?1523408706" rel="stylesheet">
    

    <script src="/0.7.0/js/jquery-2.x.min.js?1523408706"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/0.7.0/concepts/executor/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://fission.io/">
  <img src=/0.7.0/images/fission-logo.png>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/0.7.0/js/lunr.min.js?1523408706"></script>
<script type="text/javascript" src="/0.7.0/js/auto-complete.js?1523408706"></script>
<script type="text/javascript">
    
        var baseurl = '\/0.7.0';
    
</script>
<script type="text/javascript" src="/0.7.0/js/search.js?1523408706"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/0.7.0/installation/" title="Installation Guide" class="dd-item 
        
        
        
        ">
      <a href="/0.7.0/installation/">
          Installation Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/installation/installation/" title="Installation Guide" class="dd-item ">
        <a href="/0.7.0/installation/installation/">
        Installation Guide
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/installation/kubernetessetup/" title="Kubernetes Quick Install" class="dd-item ">
        <a href="/0.7.0/installation/kubernetessetup/">
        Kubernetes Quick Install
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/installation/releasenotes/" title="Release notes" class="dd-item ">
        <a href="/0.7.0/installation/releasenotes/">
        Release notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/0.7.0/installation/upgrade/" title="Upgrade" class="dd-item 
        
        
        
        ">
      <a href="/0.7.0/installation/upgrade/">
          Upgrade
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/installation/upgrade/upgrade-from-v0.1/" title="Upgrading from v0.1 to v0.2.x" class="dd-item ">
        <a href="/0.7.0/installation/upgrade/upgrade-from-v0.1/">
        Upgrading from v0.1 to v0.2.x
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/installation/upgrade/upgrade-from-v0.3/" title="Upgrading from v0.3 to v0.4.x" class="dd-item ">
        <a href="/0.7.0/installation/upgrade/upgrade-from-v0.3/">
        Upgrading from v0.3 to v0.4.x
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/installation/upgrade/upgrade-from-v0.4/" title="Upgrading from v0.4.x to v0.5.0" class="dd-item ">
        <a href="/0.7.0/installation/upgrade/upgrade-from-v0.4/">
        Upgrading from v0.4.x to v0.5.0
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.7.0/concepts/" title="Fission Concepts" class="dd-item 
        parent
        
        
        ">
      <a href="/0.7.0/concepts/">
          Fission Concepts
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/concepts/environments/" title="Environments" class="dd-item ">
        <a href="/0.7.0/concepts/environments/">
        Environments
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/concepts/executor/" title="Controlling Function Execution" class="dd-item active">
        <a href="/0.7.0/concepts/executor/">
        Controlling Function Execution
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/concepts/trigger/" title="Trigger" class="dd-item ">
        <a href="/0.7.0/concepts/trigger/">
        Trigger
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/concepts/package/" title="Builder and Packages" class="dd-item ">
        <a href="/0.7.0/concepts/package/">
        Builder and Packages
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.7.0/usage/" title="Using Fission" class="dd-item 
        
        
        
        ">
      <a href="/0.7.0/usage/">
          Using Fission
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/usage/functions/" title="Function" class="dd-item ">
        <a href="/0.7.0/usage/functions/">
        Function
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/usage/environments/" title="Environment" class="dd-item ">
        <a href="/0.7.0/usage/environments/">
        Environment
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/usage/executor/" title="Controlling Function Execution" class="dd-item ">
        <a href="/0.7.0/usage/executor/">
        Controlling Function Execution
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/usage/trigger/" title="Triggers" class="dd-item ">
        <a href="/0.7.0/usage/trigger/">
        Triggers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/usage/package/" title="Packaging source code" class="dd-item ">
        <a href="/0.7.0/usage/package/">
        Packaging source code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/usage/access-secret-cfgmap-in-function/" title="Accessing Secrets in Functions" class="dd-item ">
        <a href="/0.7.0/usage/access-secret-cfgmap-in-function/">
        Accessing Secrets in Functions
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.7.0/contributing/" title="Contributing to Fission" class="dd-item 
        
        
        
        ">
      <a href="/0.7.0/contributing/">
          Contributing to Fission
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/contributing/compiling/" title="Compiling Fission" class="dd-item ">
        <a href="/0.7.0/contributing/compiling/">
        Compiling Fission
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.7.0/workflows/" title="Fission Workflows" class="dd-item 
        
        
        
        ">
      <a href="/0.7.0/workflows/">
          Fission Workflows
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/0.7.0/tutorial/" title="Tutorials" class="dd-item 
        
        
        
        ">
      <a href="/0.7.0/tutorial/">
          Tutorials
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/tutorial/enabling-istio-on-fission/" title="Enabling Istio on Fission" class="dd-item ">
        <a href="/0.7.0/tutorial/enabling-istio-on-fission/">
        Enabling Istio on Fission
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/0.7.0/tutorial/developer-workflow/" title="Source Code Organization and Your Development Workflow" class="dd-item ">
        <a href="/0.7.0/tutorial/developer-workflow/">
        Source Code Organization and Your Development Workflow
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li class="" role=""> 
                  <a class="padding" href="https://github.com/fission/fission"><i class='fa fa-fw fa-github'></i> Github repo</a>
              </li>
          
              <li class="" role=""> 
                  <a class="padding" href="https://github.com/fission/fission/graphs/contributors"><i class='fa fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/fission/docs.fission.io/edit/master/docs/content/concepts/executor.en.md" target="blank">
                      <i class="fa fa-code-fork"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/0.7.0/'>Fission</a> > <a href='/0.7.0/concepts/'>Fission Concepts</a> > Controlling Function Execution
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li><a href="#executors">Executors</a>
<ul>
<li><a href="#pool-based-executor">Pool-based executor</a></li>
<li><a href="#new-deployment-executor">New-deployment executor</a>
<ul>
<li><a href="#the-latency-vs-idle-cost-tradeoff">The latency vs. idle-cost tradeoff</a></li>
<li><a href="#autoscaling">Autoscaling</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Controlling Function Execution</h1>
          

        




<h1 id="executors">Executors</h1>

<p>When you create a function, you can specify an executor for a function. An executor controls how function pods are created and what capabilities are available for that executor type.</p>

<h2 id="pool-based-executor">Pool-based executor</h2>

<p>A pool based executor (Refered to as poolmgr) creates a pool of generic environment pods as soon as you create an environment. The pool size of initial &ldquo;warm&rdquo; containers can be configured based on user needs. These warm containers contain a small dynamic loader for loading the function. Resource requirements are specified at environment level and are inherited by specialized function pods.</p>

<p>Once you create a function and invoke it, one of pods from the pool is taken out and &ldquo;specialized&rdquo; and used for execution. This pod is used for subseqnent requests for that function. If there are no more requests for a certain idle duration, then this pod is cleaned up. If a new requests come after the earlier specialized pod was cleaned up, then a new pod is specialised from the pool and used for execution.</p>

<p>Poolmgr executortype is great for functions where lower latency is a requirement. Poolmgr executortype has certain limitations: for example, you can not autoscale them based on demand.</p>

<h2 id="new-deployment-executor">New-deployment executor</h2>

<p>New-Deployment executor (Newdeploy) creates a Kubernetes Deployment along with a Service and HorizontalPodAutoscaler for function execution. This enables autoscaling of function pods and load balancing the requests between pods. In future additional capabilities will be added for newdeploy executortype such as support for volume etc.  In the new-deploy executor, resource requirements can be specified at the function level. These requirements override those specified in the environment.</p>

<p>Newdeploy executortype can be used for requests with no particular low-latency requirements, such as those invoked asynchronously, minscale can be set to zero. In this case the Kubernetes deployment and other objects will be created on first invocation of the function. Subsequent requests can be served by the same deployment. If there are no requests for certain duration then the idle objects are cleaned up. This mechanism ensures resource consumption only on demand and is a good fit for asynchronous requests.</p>

<p>For requests where latency requirements are stringent, a minscale  greater than zero can be set. This essentially keeps a minscale number of pods ready when you create a function. When the function is invoked, there is no delay since the pod is already created. Also minscale ensures that the pods are not cleaned up even if the function is idle. This is great for functions where lower latency is more important than saving resource consumption when functions are idle.</p>

<h3 id="the-latency-vs-idle-cost-tradeoff">The latency vs. idle-cost tradeoff</h3>

<p>The executors allow you as a user to decide between latency and a small idle cost tradeoff. Depending on the need you can choose one of the combinations which is optimal for your use case. In future, a more intelligent dispatch mechanism will enable more complex combinations of executors.</p>

<table>
<thead>
<tr>
<th align="left">Executor Type</th>
<th align="center">Min Scale</th>
<th align="center">Latency</th>
<th align="left">Idle cost</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Newdeploy</td>
<td align="center">0</td>
<td align="center">High</td>
<td align="left">Very low - pods get cleaned up after idlle time</td>
</tr>

<tr>
<td align="left">Newdeploy</td>
<td align="center">&gt;0</td>
<td align="center">Low</td>
<td align="left">Medium, Min Scale number of pods are always up</td>
</tr>

<tr>
<td align="left">Poolmgr</td>
<td align="center">0</td>
<td align="center">Low</td>
<td align="left">Low, pool of pods are always up</td>
</tr>
</tbody>
</table>

<h3 id="autoscaling">Autoscaling</h3>

<p>The new deployment based executor provides autoscaling for functions based on CPU usage. In future custom metrics will be also supported for scaling the functions. You can set the intial and maximum CPU for a function and target CPU at which autoscaling will be trigerred. Autoscaling is useful for workloads where you expect intermittant spikes in workloads. It also enables optimal usage of resources to execute functions, by using a baseline capacity with minimum scale and ability to burst up to maximum scale based on spikes in demand.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        

        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/0.7.0/js/clipboard.min.js?1523408706"></script>
    <script src="/0.7.0/js/perfect-scrollbar.min.js?1523408706"></script>
    <script src="/0.7.0/js/perfect-scrollbar.jquery.min.js?1523408706"></script>
    <script src="/0.7.0/js/jquery.sticky.js?1523408706"></script>
    <script src="/0.7.0/js/featherlight.min.js?1523408706"></script>
    <script src="/0.7.0/js/html5shiv-printshiv.min.js?1523408706"></script>
    <script src="/0.7.0/js/highlight.pack.js?1523408706"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/0.7.0/js/modernizr.custom.71422.js?1523408706"></script>
    <script src="/0.7.0/js/learn.js?1523408706"></script>
    <script src="/0.7.0/js/hugo-learn.js?1523408706"></script>

    <link href="/0.7.0/mermaid/mermaid.css?1523408706" type="text/css" rel="stylesheet" />
    <script src="/0.7.0/mermaid/mermaid.js?1523408706"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86980724-1', 'auto');
  ga('send', 'pageview');
</script>

<script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0059/9755.js" async="async"></script>

  </body>
</html>

